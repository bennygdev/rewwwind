{% extends "views/base.html" %}
{% set active_page = "tradein" %}

{% block title %}
    Trade-in
{% endblock %}

{% block styles %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/tradein/tradeform.css') }}">
{% endblock %}

{% block content %}
<div class="form-container">
    <h1>Trade-in Item Submission</h1>

    <form id="tradeForm" action="{{ url_for('views.trade_form') }}" method="POST" enctype="multipart/form-data" novalidate>
        {{ form.hidden_tag() }}

        <!-- Full Image Preview (Large Display) -->
        <div id="full-image-preview-container" class="hidden">
        <img id="full-image-preview">
        </div>

        <!-- Image Upload & Previews -->
        <div class="image-upload-section">
        <label for="file-input" class="upload-button">Select Images</label>
        <input type="file" id="file-input" name="images" accept="image/*" multiple required>

        <!-- Carousel for Image Previews -->
        <div class="preview-container" id="preview-container"></div>
        </div>

        <h2>Item Information</h2>

   

        <div class="form-row">
            <div class="form-group">
                <label for="item_type">Item Type</label>
                {{ form.item_type(class="form-control", id="item_type") }}
            </div>
            <div class="form-group">
                <label for="item_condition">Item Condition</label>
                {{ form.item_condition(class="form-control", id="item_condition") }}
            </div>
        </div>

        <!-- TITLE FIELD -->
        <div class="form-group">
            <label for="title">Title</label>
            {{ form.title(class="form-control", id="title") }}
            {% if form.title.errors %}
                <span class="form-error">{{ form.title.errors[0] }}</span>
            {% endif %}
        </div>

        <!-- AUTHOR FIELD -->
        <div class="form-group">
            <label for="author">Author / Artist</label>
            {{ form.author(class="form-control", id="author") }}
            {% if form.author.errors %}
                <span class="form-error">{{ form.author.errors[0] }}</span>
            {% endif %}
        </div>

        <!-- GENRE FIELD -->
        <div class="form-group">
            <label for="genre">Genre</label>
            {{ form.genre(class="form-control", id="genre") }}
            {% if form.genre.errors %}
                <span class="form-error">{{ form.genre.errors[0] }}</span>
            {% endif %}
        </div>

        <!-- ISBN FIELD -->
        <div class="form-group">
            <label for="isbn">ISBN / Cat#</label>
            {{ form.isbn(class="form-control", id="isbn") }}
            {% if form.isbn.errors %}
                <span class="form-error">{{ form.isbn.errors[0] }}</span>
            {% endif %}
        </div>

        <!-- Hidden Input for Image Paths -->
        <input type="hidden" name="image_paths" id="image_paths">

        <div class="button-group">
            <button type="button" class="btnB" onclick="history.back()">Back</button>
            {{ form.submit(class_="btnS") }}
        </div>
    </form>
</div>

{% block scripts %}
<script src="{{ url_for('static', filename='js/tradein/tradeForm.js') }}"></script>
{% endblock %}

{% endblock %}
